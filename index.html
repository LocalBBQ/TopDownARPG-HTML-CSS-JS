<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawl</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas" tabindex="0"></canvas>
        <div id="ui-overlay">
            <!-- Stats HUD (orbs, stun, heal, effect stacks, delve floor) is drawn on the game canvas in the render loop. -->
        </div>

        <!-- Inventory is canvas-only (Tab to open); this div is kept for visibility toggle. -->
        <div id="inventory-screen" class="inventory-screen hidden" aria-label="Inventory overlay"></div>

        <!-- Leaflet: hint to open Strategy Crafting (top-left; covered when pane opens). -->
        <div id="strategy-crafting-leaflet" class="strategy-crafting-leaflet" aria-hidden="true">
            <span class="strategy-crafting-leaflet-text">Press</span>
            <span class="strategy-crafting-leaflet-key">V</span>
            <span class="strategy-crafting-leaflet-text">for Strategy Crafting</span>
        </div>
        <!-- Strategy Crafting: hold V to open; arrow keys enter recipe sequence. -->
        <div id="strategy-crafting-pane" class="strategy-crafting-pane" aria-label="Strategy Crafting">
            <div class="strategy-crafting-pane-inner">
                <h2 class="strategy-crafting-title">Strategy Crafting</h2>
                <p class="strategy-crafting-hint">Hold V · WASD</p>
                <div id="strategy-crafting-buffer-wrap" class="strategy-crafting-buffer-wrap">
                    <span class="strategy-crafting-buffer-label">Input:</span>
                    <span id="strategy-crafting-buffer" class="strategy-crafting-buffer">—</span>
                </div>
                <div id="strategy-crafting-list" class="strategy-crafting-list" role="list">
                    <!-- Filled by StrategyCraftingPane.ts -->
                </div>
            </div>
        </div>

        <!-- Equipment chest (hub: E at chest to open, grid of weapons/equipment) -->
        <div id="equipment-chest-overlay" class="equipment-chest-overlay hidden" aria-label="Equipment chest">
            <div class="equipment-chest-panel">
                <h2 class="equipment-chest-title">Equipment</h2>
                <div id="equipment-chest-grid" class="equipment-chest-grid" role="grid" aria-label="Equipment slots">
                    <!-- Slots filled by JS from WeaponsRegistry -->
                </div>
                <div class="equipment-chest-equipment">
                    <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="mainhand" data-drop-context="chest">
                        <span class="equipment-slot-label">Main hand</span>
                        <span id="chest-equip-mainhand" class="equipment-slot-value empty">—</span>
                    </div>
                    <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="offhand" data-drop-context="chest">
                        <span class="equipment-slot-label">Off hand</span>
                        <span id="chest-equip-offhand" class="equipment-slot-value empty">—</span>
                    </div>
                </div>
                <button type="button" class="equipment-chest-back" data-action="back">Back</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>

