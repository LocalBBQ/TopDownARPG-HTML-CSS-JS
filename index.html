<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawl</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
        <div id="ui-overlay">
            <div id="orb-row">
                <div class="orb-wrapper">
                    <div id="health-orb" class="orb health-orb" title="Health">
                        <div class="orb-frame"></div>
                        <div id="health-orb-fill" class="orb-fill health-fill" style="height: 100%;"></div>
                    </div>
                    <div class="orb-caption">
                        <span class="orb-label">Health</span>
                        <span id="health-text" class="orb-text">100/100</span>
                    </div>
                </div>
                <div class="orb-wrapper">
                    <div id="stamina-orb" class="orb stamina-orb" title="Stamina">
                        <div class="orb-frame"></div>
                        <div id="stamina-orb-fill" class="orb-fill stamina-fill" style="height: 100%;"></div>
                    </div>
                    <div class="orb-caption">
                        <span class="orb-label">Stamina</span>
                        <span id="stamina-text" class="orb-text">50/50</span>
                    </div>
                </div>
            </div>
            <div id="stats-extra">
                <div class="stat-bar stun-buildup">
                    <label>Stun</label>
                    <div class="bar-container">
                        <div id="stun-bar" class="bar stun"></div>
                    </div>
                </div>
                <div id="stun-duration-row" class="stat-bar stun-duration" style="display: none;">
                    <label>Stunned</label>
                    <div class="bar-container">
                        <div id="stun-duration-bar" class="bar stun-duration-bar"></div>
                    </div>
                </div>
                <div class="stat-bar heal-charges">
                    <label>Heal</label>
                    <span id="heal-charges">3/3</span>
                </div>
            </div>
        </div>

        <!-- Inventory & Equipment (Tab to open, Escape to close) -->
        <div id="inventory-screen" class="inventory-screen hidden">
            <div class="inventory-panel">
                <header class="inventory-header">
                    <h2 class="inventory-title">Character</h2>
                    <div class="inventory-portrait-wrap">
                        <canvas id="inventory-player-portrait" class="inventory-portrait" width="96" height="96" aria-hidden="true"></canvas>
                    </div>
                </header>
                <div class="inventory-stats">
                    <div class="inventory-stats-bars">
                        <div class="inventory-stat-with-bar">
                            <span class="inventory-stat-label">Health</span>
                            <div class="inventory-bar-container">
                                <div id="inventory-bar-health" class="inventory-bar-fill health" style="width: 100%;"></div>
                            </div>
                            <span id="inventory-stat-health" class="inventory-stat-value">100 / 100</span>
                        </div>
                        <div class="inventory-stat-with-bar">
                            <span class="inventory-stat-label">Stamina</span>
                            <div class="inventory-bar-container">
                                <div id="inventory-bar-stamina" class="inventory-bar-fill stamina" style="width: 100%;"></div>
                            </div>
                            <span id="inventory-stat-stamina" class="inventory-stat-value">50 / 50</span>
                        </div>
                    </div>
                    <div class="inventory-stats-right">
                        <div class="inventory-stat"><span class="inventory-stat-label">Damage</span><span id="inventory-stat-damage" class="inventory-stat-value">—</span></div>
                        <div class="inventory-stat"><span class="inventory-stat-label">Heal</span><span id="inventory-stat-heal" class="inventory-stat-value">3 / 3</span></div>
                        <div class="inventory-stat"><span class="inventory-stat-label">Kills</span><span id="inventory-stat-kills" class="inventory-stat-value">0</span></div>
                    </div>
                </div>
                <div class="inventory-body">
                    <div class="inventory-main">
                        <div class="inventory-grid-label">Inventory</div>
                        <div id="inventory-grid" class="inventory-grid" aria-label="Inventory grid">
                            <!-- 4 columns x 6 rows = 24 slots -->
                            <div class="inventory-slot" data-slot="0"></div>
                            <div class="inventory-slot" data-slot="1"></div>
                            <div class="inventory-slot" data-slot="2"></div>
                            <div class="inventory-slot" data-slot="3"></div>
                            <div class="inventory-slot" data-slot="4"></div>
                            <div class="inventory-slot" data-slot="5"></div>
                            <div class="inventory-slot" data-slot="6"></div>
                            <div class="inventory-slot" data-slot="7"></div>
                            <div class="inventory-slot" data-slot="8"></div>
                            <div class="inventory-slot" data-slot="9"></div>
                            <div class="inventory-slot" data-slot="10"></div>
                            <div class="inventory-slot" data-slot="11"></div>
                            <div class="inventory-slot" data-slot="12"></div>
                            <div class="inventory-slot" data-slot="13"></div>
                            <div class="inventory-slot" data-slot="14"></div>
                            <div class="inventory-slot" data-slot="15"></div>
                            <div class="inventory-slot" data-slot="16"></div>
                            <div class="inventory-slot" data-slot="17"></div>
                            <div class="inventory-slot" data-slot="18"></div>
                            <div class="inventory-slot" data-slot="19"></div>
                            <div class="inventory-slot" data-slot="20"></div>
                            <div class="inventory-slot" data-slot="21"></div>
                            <div class="inventory-slot" data-slot="22"></div>
                            <div class="inventory-slot" data-slot="23"></div>
                        </div>
                    </div>
                    <aside class="inventory-equipment">
                        <div class="inventory-equipment-label">Equipment</div>
                        <div class="equipment-slot equipment-slot-gold">
                            <span class="equipment-slot-label">Gold</span>
                            <span id="inventory-stat-gold" class="equipment-slot-value">0</span>
                        </div>
                        <p class="inventory-equipment-subtitle">Weapons</p>
                        <div class="inventory-equipment-weapons">
                            <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="mainhand" data-drop-context="inventory">
                                <span class="equipment-slot-label">Main hand</span>
                                <span id="inventory-equip-mainhand" class="equipment-slot-value empty">—</span>
                            </div>
                            <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="offhand" data-drop-context="inventory">
                                <span class="equipment-slot-label">Off hand</span>
                                <span id="inventory-equip-offhand" class="equipment-slot-value empty">—</span>
                            </div>
                        </div>
                        <div class="equipment-slot equipment-slot-locked" data-slot="head" aria-disabled="true">
                            <span class="equipment-slot-label">Head</span>
                            <span class="equipment-slot-value">Coming soon</span>
                        </div>
                        <div class="equipment-slot equipment-slot-locked" data-slot="chest" aria-disabled="true">
                            <span class="equipment-slot-label">Chest</span>
                            <span class="equipment-slot-value">Coming soon</span>
                        </div>
                        <div class="equipment-slot equipment-slot-locked" data-slot="hands" aria-disabled="true">
                            <span class="equipment-slot-label">Hands</span>
                            <span class="equipment-slot-value">Coming soon</span>
                        </div>
                        <div class="equipment-slot equipment-slot-locked" data-slot="feet" aria-disabled="true">
                            <span class="equipment-slot-label">Feet</span>
                            <span class="equipment-slot-value">Coming soon</span>
                        </div>
                    </aside>
                </div>
            </div>
        </div>

        <!-- Weapon chest (hub: E at chest to open, grid of base weapons) -->
        <div id="weapon-chest-overlay" class="weapon-chest-overlay hidden" aria-label="Weapon chest">
            <div class="weapon-chest-panel">
                <h2 class="weapon-chest-title">Choose weapon</h2>
                <div id="weapon-chest-grid" class="weapon-chest-grid" role="grid" aria-label="Weapon slots">
                    <!-- Slots filled by JS from WeaponsRegistry -->
                </div>
                <div class="weapon-chest-equipment">
                    <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="mainhand" data-drop-context="chest">
                        <span class="equipment-slot-label">Main hand</span>
                        <span id="chest-equip-mainhand" class="equipment-slot-value empty">—</span>
                    </div>
                    <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="offhand" data-drop-context="chest">
                        <span class="equipment-slot-label">Off hand</span>
                        <span id="chest-equip-offhand" class="equipment-slot-value empty">—</span>
                    </div>
                </div>
                <button type="button" class="weapon-chest-back" data-action="back">Back</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>

