<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawl</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
        <div id="ui-overlay">
            <div id="orb-row">
                <div class="orb-wrapper">
                    <div id="health-orb" class="orb health-orb" title="Health">
                        <div class="orb-frame"></div>
                        <div id="health-orb-fill" class="orb-fill health-fill" style="height: 100%;"></div>
                    </div>
                    <div class="orb-caption">
                        <span class="orb-label">Health</span>
                        <span id="health-text" class="orb-text">100/100</span>
                    </div>
                </div>
                <div class="orb-wrapper">
                    <div id="stamina-orb" class="orb stamina-orb" title="Stamina">
                        <div class="orb-frame"></div>
                        <div id="stamina-orb-fill" class="orb-fill stamina-fill" style="height: 100%;"></div>
                    </div>
                    <div class="orb-caption">
                        <span class="orb-label">Stamina</span>
                        <span id="stamina-text" class="orb-text">50/50</span>
                    </div>
                </div>
            </div>
            <div id="stats-extra">
                <div class="stat-bar stun-buildup">
                    <label>Stun</label>
                    <div class="bar-container">
                        <div id="stun-bar" class="bar stun"></div>
                    </div>
                </div>
                <div id="stun-duration-row" class="stat-bar stun-duration" style="display: none;">
                    <label>Stunned</label>
                    <div class="bar-container">
                        <div id="stun-duration-bar" class="bar stun-duration-bar"></div>
                    </div>
                </div>
                <div class="stat-bar heal-charges">
                    <label>Heal</label>
                    <span id="heal-charges">3/3</span>
                </div>
            </div>
        </div>

        <!-- Inventory & Equipment (Tab to open, Escape to close) -->
        <div id="inventory-screen" class="inventory-screen hidden">
            <div class="inventory-panel">
                <header class="inventory-header">
                    <h2 class="inventory-title">Character</h2>
                    <div class="inventory-portrait-wrap">
                        <canvas id="inventory-player-portrait" class="inventory-portrait" width="96" height="96" aria-hidden="true"></canvas>
                    </div>
                </header>
                <div class="inventory-stats">
                    <div class="inventory-stats-bars">
                        <div class="inventory-stat-with-bar">
                            <span class="inventory-stat-label">Health</span>
                            <div class="inventory-bar-container">
                                <div id="inventory-bar-health" class="inventory-bar-fill health" style="width: 100%;"></div>
                            </div>
                            <span id="inventory-stat-health" class="inventory-stat-value">100 / 100</span>
                        </div>
                        <div class="inventory-stat-with-bar">
                            <span class="inventory-stat-label">Stamina</span>
                            <div class="inventory-bar-container">
                                <div id="inventory-bar-stamina" class="inventory-bar-fill stamina" style="width: 100%;"></div>
                            </div>
                            <span id="inventory-stat-stamina" class="inventory-stat-value">50 / 50</span>
                        </div>
                    </div>
                    <div class="inventory-stats-right">
                        <div class="inventory-stat"><span class="inventory-stat-label">Damage</span><span id="inventory-stat-damage" class="inventory-stat-value">—</span></div>
                        <div class="inventory-stat"><span class="inventory-stat-label">Heal</span><span id="inventory-stat-heal" class="inventory-stat-value">3 / 3</span></div>
                        <div class="inventory-stat"><span class="inventory-stat-label">Kills</span><span id="inventory-stat-kills" class="inventory-stat-value">0</span></div>
                    </div>
                </div>
                <div class="inventory-body">
                    <div class="inventory-main">
                        <div class="inventory-grid-label">Inventory</div>
                        <div id="inventory-grid" class="inventory-grid" aria-label="Inventory grid">
                            <!-- 4 columns x 6 rows = 24 slots -->
                            <div class="inventory-slot" data-slot="0"></div>
                            <div class="inventory-slot" data-slot="1"></div>
                            <div class="inventory-slot" data-slot="2"></div>
                            <div class="inventory-slot" data-slot="3"></div>
                            <div class="inventory-slot" data-slot="4"></div>
                            <div class="inventory-slot" data-slot="5"></div>
                            <div class="inventory-slot" data-slot="6"></div>
                            <div class="inventory-slot" data-slot="7"></div>
                            <div class="inventory-slot" data-slot="8"></div>
                            <div class="inventory-slot" data-slot="9"></div>
                            <div class="inventory-slot" data-slot="10"></div>
                            <div class="inventory-slot" data-slot="11"></div>
                            <div class="inventory-slot" data-slot="12"></div>
                            <div class="inventory-slot" data-slot="13"></div>
                            <div class="inventory-slot" data-slot="14"></div>
                            <div class="inventory-slot" data-slot="15"></div>
                            <div class="inventory-slot" data-slot="16"></div>
                            <div class="inventory-slot" data-slot="17"></div>
                            <div class="inventory-slot" data-slot="18"></div>
                            <div class="inventory-slot" data-slot="19"></div>
                            <div class="inventory-slot" data-slot="20"></div>
                            <div class="inventory-slot" data-slot="21"></div>
                            <div class="inventory-slot" data-slot="22"></div>
                            <div class="inventory-slot" data-slot="23"></div>
                        </div>
                    </div>
                    <aside class="inventory-equipment">
                        <div class="inventory-equipment-label">Equipment</div>
                        <div class="equipment-slot" data-slot="weapon">
                            <span class="equipment-slot-label">Weapon</span>
                            <span id="inventory-equip-weapon" class="equipment-slot-value">—</span>
                        </div>
                        <div class="equipment-slot" data-slot="head">
                            <span class="equipment-slot-label">Head</span>
                            <span class="equipment-slot-value">—</span>
                        </div>
                        <div class="equipment-slot" data-slot="chest">
                            <span class="equipment-slot-label">Chest</span>
                            <span class="equipment-slot-value">—</span>
                        </div>
                        <div class="equipment-slot" data-slot="hands">
                            <span class="equipment-slot-label">Hands</span>
                            <span class="equipment-slot-value">—</span>
                        </div>
                        <div class="equipment-slot" data-slot="feet">
                            <span class="equipment-slot-label">Feet</span>
                            <span class="equipment-slot-value">—</span>
                        </div>
                    </aside>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Scripts -->
    <!-- Core Systems -->
    <script src="js/utils/Utils.js"></script>
    <script src="js/utils/SpriteUtils.js"></script>
    <script src="js/core/EventBus.js"></script>
    <script src="js/core/EventTypes.js"></script>
    <script src="js/core/SystemManager.js"></script>
    <script src="js/core/ScreenManager.js"></script>
    <script src="js/config/GameConfig.js"></script>
    <!-- Scene tile biomes (load before SceneTiles registry) -->
    <script src="js/config/sceneTiles/ForestTiles.js"></script>
    <script src="js/config/sceneTiles/CursedWildsTiles.js"></script>
    <script src="js/config/sceneTiles/DemonApproachTiles.js"></script>
    <script src="js/config/SceneTiles.js"></script>
    
    <!-- Weapons (weaponBehavior first; no Weapon.js) -->
    <script src="js/weapons/weaponBehavior.js"></script>
    <script src="js/weapons/SwordAndShield.js"></script>
    <script src="js/weapons/GreatswordWeapon.js"></script>
    <script src="js/weapons/MaceWeapon.js"></script>
    <script src="js/weapons/CrossbowWeapon.js"></script>
    <script src="js/weapons/DaggerWeapon.js"></script>
    <script src="js/weapons/GoblinDaggerWeapon.js"></script>
    <script src="js/weapons/WeaponsRegistry.js"></script>
    <script src="js/weapons/PlayerAttack.js"></script>
    <script src="js/weapons/WeaponAttackHandler.js"></script>
    <script src="js/weapons/EnemyAttack.js"></script>
    <script src="js/weapons/ChieftainClubWeapon.js"></script>
    <script src="js/weapons/EnemyWeaponsRegistry.js"></script>
    <script src="js/weapons/EnemyAttackHandler.js"></script>
    
    <!-- Enemies (registry populates GameConfig.enemy.types) -->
    <script src="js/enemies/EnemyType.js"></script>
    <script src="js/enemies/Goblin.js"></script>
    <script src="js/enemies/Skeleton.js"></script>
    <script src="js/enemies/LesserDemon.js"></script>
    <script src="js/enemies/GreaterDemon.js"></script>
    <script src="js/enemies/GoblinChieftain.js"></script>
    <script src="js/enemies/Bandit.js"></script>
    <script src="js/enemies/BanditDagger.js"></script>
    <script src="js/enemies/EnemiesRegistry.js"></script>
    
    <!-- Behaviors (AI/entity behavior modules) -->
    <script src="js/behaviors/PatrolBehavior.js"></script>
    <script src="js/behaviors/GuardBehavior.js"></script>
    <script src="js/behaviors/CircularPatrolBehavior.js"></script>
    <script src="js/behaviors/SleepBehavior.js"></script>
    <script src="js/behaviors/PackFollowBehavior.js"></script>
    
    <!-- Components -->
    <script src="js/components/Transform.js"></script>
    <script src="js/components/Health.js"></script>
    <script src="js/components/StatusEffects.js"></script>
    <script src="js/components/Stamina.js"></script>
    <script src="js/components/PlayerHealing.js"></script>
    <script src="js/components/Movement.js"></script>
    <script src="js/components/PlayerMovement.js"></script>
    <script src="js/components/EnemyMovement.js"></script>
    <script src="js/components/Combat.js"></script>
    <script src="js/components/AI.js"></script>
    <script src="js/components/Renderable.js"></script>
    <script src="js/components/Sprite.js"></script>
    <script src="js/components/Animation.js"></script>
    
    <!-- Entities -->
    <script src="js/entities/Entity.js"></script>
    
    <!-- Systems -->
    <script src="js/systems/InputSystem.js"></script>
    <script src="js/systems/CameraSystem.js"></script>
    <script src="js/systems/CollisionSystem.js"></script>
    <script src="js/systems/PathfindingSystem.js"></script>
    <script src="js/renderers/PlayerCombatRenderer.js"></script>
    <script src="js/renderers/EnemyCombatRenderer.js"></script>
    <!-- Render layer modules (used by RenderSystem) -->
    <script src="js/systems/renderers/RenderContext.js"></script>
    <script src="js/systems/renderers/EntityEffectsRenderer.js"></script>
    <script src="js/systems/renderers/EnemyEntityRenderer.js"></script>
    <script src="js/systems/renderers/PlayerEntityRenderer.js"></script>
    <script src="js/systems/renderers/EntitySpriteRenderer.js"></script>
    <script src="js/systems/renderers/WorldLayerRenderer.js"></script>
    <script src="js/systems/renderers/ObstacleLayerRenderer.js"></script>
    <script src="js/systems/renderers/PortalRenderer.js"></script>
    <script src="js/systems/renderers/BoardRenderer.js"></script>
    <script src="js/systems/renderers/ChestRenderer.js"></script>
    <script src="js/systems/renderers/EntityLayerRenderer.js"></script>
    <script src="js/systems/renderers/MinimapRenderer.js"></script>
    <script src="js/systems/RenderSystem.js"></script>
    
    <!-- Projectiles -->
    <script src="js/projectiles/Projectile.js"></script>
    
    <!-- Managers -->
    <script src="js/managers/EntityManager.js"></script>
    <script src="js/managers/SpriteManager.js"></script>
    <!-- Obstacles (Obstacle, ObjectFactory, StructureGenerator - required by ObstacleManager) -->
    <script src="js/obstacles/Obstacle.js"></script>
    <script src="js/obstacles/ObjectFactory.js"></script>
    <script src="js/obstacles/StructureGenerator.js"></script>
    <script src="js/managers/ObstacleManager.js"></script>
    <script src="js/managers/EnemyManager.js"></script>
    <script src="js/managers/HazardManager.js"></script>
    <script src="js/managers/DamageNumberManager.js"></script>
    <script src="js/managers/ProjectileManager.js"></script>
    <script src="js/managers/HealthOrbManager.js"></script>
    <script src="js/managers/GatherableManager.js"></script>
    
    <!-- Controllers -->
    <script src="js/controllers/PlayerInputController.js"></script>
    
    <!-- Game -->
    <script src="js/core/Game.js"></script>
    
    <!-- Initialize Game -->
    <script>
        window.addEventListener('load', () => {
            const game = new Game();
            console.log('Dungeon Crawl initialized!');
        });
    </script>
</body>
</html>

