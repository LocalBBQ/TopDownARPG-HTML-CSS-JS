<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawl</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas" tabindex="0"></canvas>
        <div id="ui-overlay">
            <div id="delve-floor-indicator" class="delve-floor-indicator hidden" aria-live="polite">Floor 1</div>
            <div id="game-hud">
            <div id="effect-stacks-grid" class="effect-stacks-grid hidden" aria-label="Status effect stacks">
                <div id="effect-rising-gale" class="effect-box" data-effect="risingGale" title="Rising Gale (Blessed Winds): 2 stacks = Storm Release">
                    <span id="rising-gale-stack-count" class="effect-box-count">0/2</span>
                </div>
            </div>
            <div id="orb-row">
                <div class="orb-wrapper">
                    <div id="health-orb" class="orb health-orb" title="Health">
                        <div class="orb-frame"></div>
                        <div id="health-orb-fill" class="orb-fill health-fill" style="height: 100%;"></div>
                    </div>
                    <div class="orb-caption">
                        <span class="orb-label">Health</span>
                        <span id="health-text" class="orb-text">100/100</span>
                    </div>
                </div>
                <div class="orb-wrapper">
                    <div id="stamina-orb" class="orb stamina-orb" title="Stamina">
                        <div class="orb-frame"></div>
                        <div id="stamina-orb-fill" class="orb-fill stamina-fill" style="height: 100%;"></div>
                    </div>
                    <div class="orb-caption">
                        <span class="orb-label">Stamina</span>
                        <span id="stamina-text" class="orb-text">50/50</span>
                    </div>
                </div>
            </div>
            <div id="stats-extra">
                <div class="stat-bar stun-buildup">
                    <label>Stun</label>
                    <div class="bar-container">
                        <div id="stun-bar" class="bar stun"></div>
                    </div>
                </div>
                <div id="stun-duration-row" class="stat-bar stun-duration" style="display: none;">
                    <label>Stunned</label>
                    <div class="bar-container">
                        <div id="stun-duration-bar" class="bar stun-duration-bar"></div>
                    </div>
                </div>
                <div class="stat-bar heal-charges">
                    <label>Heal</label>
                    <div class="potion-bottle" title="Healing potion charges">
                        <div class="potion-bottle-frame"></div>
                        <div id="potion-fill" class="potion-fill" style="height: 100%;"></div>
                    </div>
                    <span id="heal-charges" class="heal-charges-text">3/3</span>
                </div>
            </div>
            </div>
            </div>
        </div>

        <!-- Inventory is canvas-only (Tab to open); this div is kept for visibility toggle. -->
        <div id="inventory-screen" class="inventory-screen hidden" aria-label="Inventory overlay"></div>

        <!-- Equipment chest (hub: E at chest to open, grid of weapons/equipment) -->
        <div id="equipment-chest-overlay" class="equipment-chest-overlay hidden" aria-label="Equipment chest">
            <div class="equipment-chest-panel">
                <h2 class="equipment-chest-title">Equipment</h2>
                <div id="equipment-chest-grid" class="equipment-chest-grid" role="grid" aria-label="Equipment slots">
                    <!-- Slots filled by JS from WeaponsRegistry -->
                </div>
                <div class="equipment-chest-equipment">
                    <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="mainhand" data-drop-context="chest">
                        <span class="equipment-slot-label">Main hand</span>
                        <span id="chest-equip-mainhand" class="equipment-slot-value empty">—</span>
                    </div>
                    <div class="equipment-slot equipment-slot-primary equipment-drop-target" data-equip-slot="offhand" data-drop-context="chest">
                        <span class="equipment-slot-label">Off hand</span>
                        <span id="chest-equip-offhand" class="equipment-slot-value empty">—</span>
                    </div>
                </div>
                <button type="button" class="equipment-chest-back" data-action="back">Back</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>

